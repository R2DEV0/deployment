{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\r2dev\\\\Desktop\\\\coding_dojo\\\\mern_stack\\\\mernTest\\\\client\\\\src\\\\views\\\\Main.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, navigate } from '@reach/router';\nimport axios from 'axios';\nimport moment from 'moment';\nexport default (props => {\n  const [project, setProject] = useState('');\n  const [loaded, setLoaded] = useState(false);\n  const [projectCompleted, setProjectCompleted] = useState({});\n  const [projectStarted, setProjectStarted] = useState({});\n  const [projectBacklog, setProjectBacklog] = useState({});\n  useEffect(() => {\n    let notStarted = [];\n    let notCompleted = [];\n    let completed = [];\n    axios.get('http://localhost:8000/api/projects').then(res => {\n      setProject(res.data);\n      res.data.map((item, i) => {\n        setDueDate(moment(item.date).format('DD MMM, YYYY'));\n\n        if (item.isStarted === false) {\n          notStarted.push(item);\n        } else if (item.isStarted == true && item.isComplete === false) {\n          notCompleted.push(item);\n        } else if (item.isComplete == true && item.isStarted === true) {\n          completed.push(item);\n        }\n      });\n      setProjectBacklog(notStarted);\n      setProjectStarted(notCompleted);\n      setProjectCompleted(completed);\n      update();\n      setLoaded(true);\n    });\n  }, []);\n\n  const update = () => {\n    let notStarted = [];\n    let notCompleted = [];\n    let completed = [];\n    axios.get('http://localhost:8000/api/projects').then(res => {\n      setProject(res.data);\n      res.data.map((item, i) => {\n        if (item.isStarted === false) {\n          notStarted.push(item);\n        } else if (item.isStarted == true && item.isComplete === false || item.isComplete === null) {\n          notCompleted.push(item);\n        } else if (item.isComplete == true) {\n          completed.push(item);\n        }\n      });\n      setProjectBacklog(notStarted);\n      setProjectStarted(notCompleted);\n      setProjectCompleted(completed);\n      setLoaded(true);\n    });\n  };\n\n  const toggleStarted = i => {\n    const projectCopy = [...project];\n    const selectedProject = projectCopy[i];\n    selectedProject.isStarted = !selectedProject.isStarted;\n    setProject(projectCopy);\n    update();\n  };\n\n  const toggleComplete = i => {\n    const projectCopy = [...project];\n    const selectedProject = projectCopy[i];\n    selectedProject.isComplete = !selectedProject.isComplete;\n    setProject(projectCopy);\n    update();\n  };\n\n  const startProj = (id, status, i, name, due_date, isComplete) => {\n    axios.put(`http://localhost:8000/api/update/${id}`, {\n      'isStarted': !status,\n      'name': name,\n      'due_date': due_date,\n      'isComplete': isComplete\n    }).then(res => {\n      console.log(res);\n      toggleStarted(i);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const completeProj = (id, status, i, name, due_date, isStarted) => {\n    axios.put(`http://localhost:8000/api/update/${id}`, {\n      'isComplete': !status,\n      'name': name,\n      'due_date': due_date,\n      'isComplete': isStarted\n    }).then(res => {\n      console.log(res);\n      toggleComplete(i);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const deleteHandler = id => {\n    axios.delete(`http://localhost:8000/api/projects/${id}`).then(res => {\n      console.log(res);\n      setProject(project.filter(project => project._id !== id));\n      update();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const addNew = e => {\n    navigate('/create');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      width: '350px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      textAlign: 'center',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 17\n    }\n  }, \"Backlog\"), loaded && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 28\n    }\n  }, projectBacklog.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      key: i,\n      style: {\n        border: '1px solid black',\n        padding: '10px',\n        listStyle: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 63\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 25\n      }\n    }, \"Project: \", item.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 25\n      }\n    }, \"Due by: \", item.due_date), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-secondary btn-sm\",\n      onClick: e => {\n        startProj(item._id, item.isStarted, i, item.name, item.due_date, item.isComplete);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 29\n      }\n    }, \"Start Project\")));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      width: '350px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      textAlign: 'center',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, \"Started\"), loaded && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      marginRight: '20px',\n      marginLeft: '20px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 24\n    }\n  }, projectStarted.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      key: i,\n      style: {\n        border: '1px solid black',\n        padding: '10px',\n        listStyle: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 63\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 25\n      }\n    }, \"Project: \", item.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 25\n      }\n    }, \"Due by: \", item.due_date), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-primary btn-sm\",\n      onClick: e => {\n        completeProj(item._id, item.isComplete, i, item.name, item.due_date, item.isStarted);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 29\n      }\n    }, \"Completed\")));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'inline-block',\n      verticalAlign: 'top',\n      width: '350px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      textAlign: 'center',\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, \"Completed\"), loaded && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'inline-block'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 24\n    }\n  }, projectCompleted.map((item, i) => {\n    return /*#__PURE__*/React.createElement(\"ul\", {\n      key: i,\n      style: {\n        border: '1px solid black',\n        padding: '10px',\n        listStyle: 'none'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 61\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, \"Project: \", item.name), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 21\n      }\n    }, \"Due by: \", item.due_date), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger btn-sm\",\n      onClick: e => {\n        deleteHandler(item._id);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, \"Delete Project\")));\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary btn-md\",\n    onClick: addNew,\n    style: {\n      marginTop: '50px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, \"Add New Project\")));\n});","map":{"version":3,"sources":["C:/Users/r2dev/Desktop/coding_dojo/mern_stack/mernTest/client/src/views/Main.js"],"names":["React","useState","useEffect","Link","navigate","axios","moment","props","project","setProject","loaded","setLoaded","projectCompleted","setProjectCompleted","projectStarted","setProjectStarted","projectBacklog","setProjectBacklog","notStarted","notCompleted","completed","get","then","res","data","map","item","i","setDueDate","date","format","isStarted","push","isComplete","update","toggleStarted","projectCopy","selectedProject","toggleComplete","startProj","id","status","name","due_date","put","console","log","catch","err","completeProj","deleteHandler","delete","filter","_id","addNew","e","display","verticalAlign","width","textAlign","fontWeight","border","padding","listStyle","marginRight","marginLeft","marginTop"],"mappings":"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","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\nimport { Link, navigate } from '@reach/router';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nexport default (props) => {\r\n    const[project, setProject] = useState('');\r\n    const[loaded, setLoaded] = useState(false);\r\n    const[projectCompleted, setProjectCompleted] = useState({});\r\n    const[projectStarted, setProjectStarted] = useState({});\r\n    const[projectBacklog, setProjectBacklog] = useState({});\r\n\r\n\r\n    useEffect(() => {\r\n        let notStarted =[];\r\n        let notCompleted =[];\r\n        let completed =[];\r\n        axios.get('http://localhost:8000/api/projects')\r\n        .then(res => {\r\n            setProject(res.data);\r\n            res.data.map((item, i) => {\r\n                setDueDate(moment(item.date).format('DD MMM, YYYY'))\r\n                if(item.isStarted === false){\r\n                    notStarted.push(item)\r\n                }\r\n                else if(item.isStarted == true && item.isComplete === false){\r\n                    notCompleted.push(item)\r\n                }\r\n                else if(item.isComplete == true && item.isStarted === true){\r\n                    completed.push(item)\r\n                }\r\n            })\r\n            setProjectBacklog(notStarted);\r\n            setProjectStarted(notCompleted);\r\n            setProjectCompleted(completed);\r\n            update();\r\n            setLoaded(true)\r\n        })\r\n    }, []);\r\n\r\n    const update = () => {\r\n        let notStarted =[];\r\n        let notCompleted =[];\r\n        let completed =[];\r\n        axios.get('http://localhost:8000/api/projects')\r\n        .then(res => {\r\n            setProject(res.data);\r\n            res.data.map((item, i) => {\r\n                if(item.isStarted === false){\r\n                    notStarted.push(item)\r\n                }\r\n                else if(item.isStarted == true && item.isComplete === false || item.isComplete === null){\r\n                    notCompleted.push(item)\r\n                }\r\n                else if(item.isComplete == true){\r\n                    completed.push(item)\r\n                }\r\n            })\r\n            setProjectBacklog(notStarted);\r\n            setProjectStarted(notCompleted);\r\n            setProjectCompleted(completed);\r\n            setLoaded(true)\r\n        })\r\n    };\r\n\r\n    const toggleStarted = (i) => {\r\n        const projectCopy = [...project];\r\n        const selectedProject = projectCopy[i];\r\n        selectedProject.isStarted = !selectedProject.isStarted;\r\n        setProject(projectCopy);\r\n        update();\r\n    }\r\n\r\n    const toggleComplete = (i) => {\r\n        const projectCopy = [...project];\r\n        const selectedProject = projectCopy[i];\r\n        selectedProject.isComplete = !selectedProject.isComplete;\r\n        setProject(projectCopy);\r\n        update(); \r\n    }\r\n\r\n\r\n    const startProj = (id, status, i, name, due_date, isComplete) => {\r\n        axios.put(`http://localhost:8000/api/update/${id}`, {'isStarted': !status, 'name': name, 'due_date': due_date, 'isComplete': isComplete })\r\n            .then(res => {\r\n                console.log(res)\r\n                toggleStarted(i)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n\r\n    const completeProj = (id, status, i, name, due_date, isStarted) => {\r\n        axios.put(`http://localhost:8000/api/update/${id}`, {'isComplete': !status, 'name': name, 'due_date': due_date, 'isComplete': isStarted })\r\n            .then(res => {\r\n                console.log(res)\r\n                toggleComplete(i)\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n\r\n\r\n    const deleteHandler = (id) => {\r\n        axios.delete(`http://localhost:8000/api/projects/${id}`)\r\n            .then(res => {\r\n                console.log(res);\r\n                setProject(project.filter(project => project._id !== id));\r\n                update()\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        }\r\n\r\n\r\n    const addNew = (e) => {\r\n        navigate('/create')\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        <div className='container'>\r\n            <div style={{display: 'inline-block', verticalAlign:'top', width:'350px'}}>\r\n                <h4 style={{textAlign:'center', fontWeight: 'bold'}} >Backlog</h4>\r\n                {loaded && <div style={{display: 'inline-block'}}>\r\n                    {projectBacklog.map((item, i) => { return <ul key={i} style={{border: '1px solid black', padding:'10px', listStyle:'none'}}>\r\n                        <li>Project: {item.name}</li>\r\n                        <li>Due by: {item.due_date}</li>\r\n                        <li><button className='btn btn-outline-secondary btn-sm' onClick={(e) => {startProj(item._id, item.isStarted, i, item.name, item.due_date, item.isComplete)}}>Start Project</button></li>\r\n                    </ul>})}\r\n                </div>}\r\n            </div>\r\n\r\n        <div style={{display: 'inline-block', verticalAlign:'top', width:'350px'}}>\r\n            <h4 style={{textAlign:'center',fontWeight: 'bold'}}>Started</h4>\r\n            {loaded && <div style={{display: 'inline-block', marginRight:'20px', marginLeft: '20px'}}>\r\n                    {projectStarted.map((item, i) => { return <ul key={i} style={{border: '1px solid black', padding:'10px', listStyle:'none'}}>\r\n                        <li>Project: {item.name}</li>\r\n                        <li>Due by: {item.due_date}</li>\r\n                        <li><button className='btn btn-outline-primary btn-sm' onClick={(e) => {completeProj(item._id, item.isComplete, i, item.name, item.due_date, item.isStarted)}} >Completed</button></li>\r\n                    </ul>\r\n                })}\r\n            </div>}\r\n        </div>\r\n\r\n        <div style={{display: 'inline-block', verticalAlign:'top', width:'350px'}}>\r\n            <h4 style={{textAlign:'center', fontWeight: 'bold'}}>Completed</h4>\r\n            {loaded && <div style={{display: 'inline-block'}}>\r\n                {projectCompleted.map((item, i) => { return <ul key={i} style={{border: '1px solid black', padding:'10px', listStyle:'none'}}>\r\n                    <li>Project: {item.name}</li>\r\n                    <li>Due by: {item.due_date}</li>\r\n                    <li><button className='btn btn-outline-danger btn-sm' onClick={(e) => {deleteHandler(item._id)}} >Delete Project</button></li>\r\n                </ul>})}\r\n            </div>}\r\n            </div>\r\n\r\n            <div>\r\n                <button className='btn btn-primary btn-md'onClick={addNew} style={{marginTop: '50px'}}>Add New Project</button>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}