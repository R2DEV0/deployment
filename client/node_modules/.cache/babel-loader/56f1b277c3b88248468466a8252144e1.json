{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\r2dev\\\\Desktop\\\\coding_dojo\\\\mern_stack\\\\mernTest\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link,navigate}from'@reach/router';import axios from'axios';export default(function(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),due_date=_useState4[0],setDue_date=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),nameError=_useState8[0],setNameError=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),dateError=_useState10[0],setDateError=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),project=_useState12[0],setProject=_useState12[1];var _onSubmit=function onSubmit(e,data){e.preventDefault();axios.post('http://localhost:8000/api/projects',data).then(function(res){navigate('/');}).catch(function(err){var errorResponse=err.response.data.errors;var errorArr=[];for(var _i=0,_Object$keys=Object.keys(errorResponse);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];errorArr.push(errorResponse[key].message);}setErrors(errorArr);});};var nameHandler=function nameHandler(e){setName(e.target.value);if(e.target.value.length<3){setNameError('Project name must have at least 3 characters.');}else if(e.target.value.length>2){setNameError(\"\");}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(Link,{to:\"/\"},\"Back to Dashboard\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form\",style:{marginTop:'20px'}},/*#__PURE__*/React.createElement(\"form\",{onSubmit:function onSubmit(e){return _onSubmit(e,{name:name,due_date:due_date});}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Project: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",onChange:nameHandler})),nameError?/*#__PURE__*/React.createElement(\"p\",{style:{color:'red'}},nameError):'',/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"lable\",{htmlFor:\"due_date\"},\"Due Date: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"date\",name:\"due_date\",onChange:function onChange(e){return setDue_date(e.target.value);}})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary btn-md\",style:{marginTop:'20px'}},\"Submit\"))),errors.map(function(error,idx){return/*#__PURE__*/React.createElement(\"p\",{style:{color:'red'},key:idx},error);}));});","map":{"version":3,"sources":["C:/Users/r2dev/Desktop/coding_dojo/mern_stack/mernTest/client/src/views/AddNew.js"],"names":["React","useState","useEffect","Link","navigate","axios","props","name","setName","due_date","setDue_date","errors","setErrors","nameError","setNameError","dateError","setDateError","project","setProject","onSubmit","e","data","preventDefault","post","then","res","catch","err","errorResponse","response","errorArr","Object","keys","key","push","message","nameHandler","target","value","length","marginTop","color","map","error","idx"],"mappings":"gMAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,eAA/B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,eAAe,SAACC,KAAD,CAAW,eAEEL,QAAQ,CAAC,EAAD,CAFV,wCAEfM,IAFe,eAETC,OAFS,8BAGUP,QAAQ,CAAC,EAAD,CAHlB,yCAGfQ,QAHe,eAGLC,WAHK,8BAIMT,QAAQ,CAAC,EAAD,CAJd,yCAIfU,MAJe,eAIPC,SAJO,8BAKYX,QAAQ,CAAC,EAAD,CALpB,yCAKfY,SALe,eAKJC,YALI,8BAMYb,QAAQ,CAAC,EAAD,CANpB,0CAMfc,SANe,gBAMJC,YANI,gCAOQf,QAAQ,CAAC,EAAD,CAPhB,2CAOfgB,OAPe,gBAONC,UAPM,gBAStB,GAAMC,CAAAA,SAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAIC,IAAJ,CAAa,CAC1BD,CAAC,CAACE,cAAF,GACAjB,KAAK,CAACkB,IAAN,CAAW,oCAAX,CAAiDF,IAAjD,EACCG,IADD,CACM,SAAAC,GAAG,CAAI,CACTrB,QAAQ,CAAC,GAAD,CAAR,CACH,CAHD,EAICsB,KAJD,CAIO,SAAAC,GAAG,CAAI,CACV,GAAMC,CAAAA,aAAa,CAAGD,GAAG,CAACE,QAAJ,CAAaR,IAAb,CAAkBV,MAAxC,CACA,GAAMmB,CAAAA,QAAQ,CAAC,EAAf,CAEA,0BAAiBC,MAAM,CAACC,IAAP,CAAYJ,aAAZ,CAAjB,6BAA4C,CAAxC,GAAMK,CAAAA,GAAG,iBAAT,CACAH,QAAQ,CAACI,IAAT,CAAcN,aAAa,CAACK,GAAD,CAAb,CAAmBE,OAAjC,EACH,CACDvB,SAAS,CAACkB,QAAD,CAAT,CACH,CAZD,EAaH,CAfD,CAiBA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAChB,CAAD,CAAO,CACvBZ,OAAO,CAACY,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAP,CACA,GAAGlB,CAAC,CAACiB,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAA3B,CAA6B,CACzBzB,YAAY,CAAC,+CAAD,CAAZ,CACH,CAFD,IAGK,IAAGM,CAAC,CAACiB,MAAF,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAA3B,CAA6B,CAC9BzB,YAAY,CAAC,EAAD,CAAZ,CACH,CACJ,CARD,CAWA,mBACI,2BAAK,SAAS,CAAC,WAAf,eACI,oBAAC,IAAD,EAAM,EAAE,CAAE,GAAV,sBADJ,cAEI,2BAAK,SAAS,CAAC,MAAf,CAAsB,KAAK,CAAE,CAAC0B,SAAS,CAAE,MAAZ,CAA7B,eACI,4BAAM,QAAQ,CAAE,kBAAApB,CAAC,QAAID,CAAAA,SAAQ,CAACC,CAAD,CAAI,CAACb,IAAI,CAAJA,IAAD,CAAOE,QAAQ,CAARA,QAAP,CAAJ,CAAZ,EAAjB,eACI,4CACI,6BAAO,OAAO,CAAC,MAAf,cADJ,cAEI,6BAAO,IAAI,CAAE,MAAb,CAAoB,IAAI,CAAC,MAAzB,CAAgC,QAAQ,CAAE2B,WAA1C,EAFJ,CADJ,CAMIvB,SAAS,cACT,yBAAG,KAAK,CAAE,CAAC4B,KAAK,CAAC,KAAP,CAAV,EAA2B5B,SAA3B,CADS,CAET,EARJ,cAUI,4CACI,6BAAO,OAAO,CAAC,UAAf,eADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,UAAxB,CAAmC,QAAQ,CAAE,kBAACO,CAAD,QAAOV,CAAAA,WAAW,CAACU,CAAC,CAACiB,MAAF,CAASC,KAAV,CAAlB,EAA7C,EAFJ,CAVJ,cAcI,8BAAQ,SAAS,CAAC,wBAAlB,CAA2C,KAAK,CAAE,CAACE,SAAS,CAAE,MAAZ,CAAlD,WAdJ,CADJ,CAFJ,CAoBK7B,MAAM,CAAC+B,GAAP,CAAW,SAACC,KAAD,CAAQC,GAAR,CAAe,CACvB,mBACI,yBAAG,KAAK,CAAE,CAAEH,KAAK,CAAC,KAAR,CAAV,CAA0B,GAAG,CAAEG,GAA/B,EAAqCD,KAArC,CADJ,CAGH,CAJA,CApBL,CADJ,CA6BH,CAlED","sourcesContent":["import React,{ useState, useEffect } from 'react';\r\nimport { Link, navigate } from '@reach/router';\r\nimport axios from 'axios';\r\n\r\n\r\nexport default (props) => {\r\n\r\n    const [name, setName] = useState('');\r\n    const [due_date, setDue_date] = useState('')\r\n    const [errors, setErrors] = useState([]);\r\n    const [nameError, setNameError] = useState('');\r\n    const [dateError, setDateError] = useState('');\r\n    const [project, setProject] = useState('')\r\n\r\n    const onSubmit = (e, data) => {\r\n        e.preventDefault();\r\n        axios.post('http://localhost:8000/api/projects', data)\r\n        .then(res => {\r\n            navigate('/');\r\n        })\r\n        .catch(err => {\r\n            const errorResponse = err.response.data.errors;\r\n            const errorArr=[];\r\n\r\n            for(const key of Object.keys(errorResponse)){\r\n                errorArr.push(errorResponse[key].message)\r\n            }\r\n            setErrors(errorArr);\r\n        })\r\n    }\r\n\r\n    const nameHandler = (e) => {\r\n        setName(e.target.value);\r\n        if(e.target.value.length < 3){\r\n            setNameError('Project name must have at least 3 characters.')\r\n        }\r\n        else if(e.target.value.length > 2){\r\n            setNameError(\"\")\r\n        }\r\n    }\r\n\r\n\r\n    return(\r\n        <div className='container'>\r\n            <Link to ='/'>Back to Dashboard</Link>\r\n            <div className='form' style={{marginTop: '20px'}}>\r\n                <form onSubmit={e => onSubmit(e, {name, due_date})}>\r\n                    <div>\r\n                        <label htmlFor='name'>Project: </label>\r\n                        <input type ='text' name='name' onChange={nameHandler} />\r\n                    </div>\r\n                    {\r\n                    nameError ?\r\n                    <p style={{color:'red'}}>{ nameError }</p> :\r\n                    ''\r\n                    }\r\n                    <div> \r\n                        <lable htmlFor='due_date'>Due Date: </lable>\r\n                        <input type='date' name='due_date' onChange={(e) => setDue_date(e.target.value)} />\r\n                    </div>\r\n                    <button className='btn btn-primary btn-md' style={{marginTop: '20px'}}>Submit</button>\r\n                </form>\r\n            </div>\r\n            {errors.map((error, idx)=> {\r\n                return(\r\n                    <p style={{ color:'red' }}key={idx}>{error}</p>\r\n                )\r\n            })}\r\n        </div>\r\n    )\r\n\r\n}"]},"metadata":{},"sourceType":"module"}